!function(){var e=document.querySelector("#js-header"),n=document.querySelector(".main-nav"),t=document.querySelector(".js-form"),i=document.querySelector(".js-form-input-email");function l(e){var n,t;null===(n=document.querySelector(".nav__link--current"))||void 0===n||n.classList.remove("nav__link--current"),null===(t=document.querySelector('a[href="'.concat(e,'"]')))||void 0===t||t.classList.add("nav__link--current")}window.addEventListener("scroll",(function(){var n=window.innerWidth<768?"mobile":"desktop";"mobile"===n&&(window.scrollY>120?e.classList.add("visible"):e.classList.remove("visible")),"desktop"===n&&(window.scrollY>70?e.classList.add("visible"):e.classList.remove("visible"))})),n.addEventListener("click",(function(e){var n,t,i,o;if("A"===(null==e||null===(n=e.target)||void 0===n?void 0:n.nodeName)){var r=null==e||null===(t=e.target)||void 0===t||null===(i=t.attributes)||void 0===i||null===(o=i.href)||void 0===o?void 0:o.value;if("/index.html"!==r){e.preventDefault();var a=document.querySelector("".concat(r));null==a||a.scrollIntoView({block:"nearest",behavior:"smooth"}),l(r)}}})),t.addEventListener("submit",(function(e){var n,l,o;e.preventDefault();var r=null==e||null===(n=e.currentTarget)||void 0===n||null===(l=n.elements)||void 0===l||null===(o=l.email)||void 0===o?void 0:o.value;if(""!==r.trim()&&r.includes("@")&&r.includes(".")){i.classList.contains("invalid")&&i.classList.remove("invalid");var a=new FormData(t);return fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(a).toString()}).then((function(e){return t.reset(),e.json()})).catch((function(e){return console.log("Sending form failed")}))}i.focus(),i.classList.add("invalid");var s=setTimeout((function(){i.classList.remove("invalid"),clearTimeout(s)}),5e3)}))}();
//# sourceMappingURL=index.8a7ebd4a.js.map
