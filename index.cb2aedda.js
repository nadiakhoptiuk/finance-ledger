const e=document.querySelector("#js-header"),n=document.querySelector(".main-nav"),t=document.querySelector(".js-form"),l=document.querySelector(".js-form-input-email");function i(e){var n,t;null===(n=document.querySelector(".nav__link--current"))||void 0===n||n.classList.remove("nav__link--current"),null===(t=document.querySelector(`a[href="${e}"]`))||void 0===t||t.classList.add("nav__link--current")}window.addEventListener("scroll",(function(){let n=window.innerWidth<768?"mobile":"desktop";"mobile"===n&&(window.scrollY>120?e.classList.add("visible"):e.classList.remove("visible")),"desktop"===n&&(window.scrollY>70?e.classList.add("visible"):e.classList.remove("visible"))})),n.addEventListener("click",(function(e){var n,t,l,o;if("A"!==(null==e||null===(n=e.target)||void 0===n?void 0:n.nodeName))return;const s=null==e||null===(t=e.target)||void 0===t||null===(l=t.attributes)||void 0===l||null===(o=l.href)||void 0===o?void 0:o.value;if("/index.html"!==s){e.preventDefault();const n=document.querySelector(`${s}`);null==n||n.scrollIntoView({block:"nearest",behavior:"smooth"}),i(s)}})),t.addEventListener("submit",(function(e){var n,i,o;e.preventDefault();const s=null==e||null===(n=e.currentTarget)||void 0===n||null===(i=n.elements)||void 0===i||null===(o=i.email)||void 0===o?void 0:o.value;if(""!==s.trim()&&s.includes("@")&&s.includes(".")){l.classList.contains("invalid")&&l.classList.remove("invalid");const e=new FormData(t);return fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e).toString()}).then((e=>(t.reset(),e.json()))).catch((e=>console.log("Sending form failed")))}{l.focus(),l.classList.add("invalid");const e=setTimeout((()=>{l.classList.remove("invalid"),clearTimeout(e)}),5e3)}}));
//# sourceMappingURL=index.cb2aedda.js.map
